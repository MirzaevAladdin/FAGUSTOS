<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>カフェメニュー</title>
  <style>
    html, body { height: 100%; margin: 0; }
    body {
      display: flex;
      flex-direction: column;
      font-family: "Hiragino Sans", "Noto Sans JP", sans-serif;
      background: #faf7f2;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #6b4226;
      margin-bottom: 20px;
    }
    main { flex: 1; padding: 0 20px 20px; }
    .filters { text-align: center; margin-bottom: 20px; }
    .filters button {
      margin: 5px; padding: 8px 16px;
      border: none; border-radius: 16px;
      background: #e8d3c1; cursor: pointer;
      font-size: 0.9rem; transition: background 0.3s;
    }
    .filters button.active { background: #caa472; color: #fff; }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
    }
    .card {
      background: #fff; border-radius: 12px; overflow: hidden;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      display: flex; flex-direction: column; position: relative;
      cursor: pointer;
    }
    .photo-wrap { position: relative; }
    .photo-wrap img {
      width: 100%; height: 160px;
      object-fit: cover; display: block;
      transition: transform 0.3s ease;
    }
    .photo-wrap:hover img { transform: scale(1.05); }
    .meta { padding: 12px; display: flex; justify-content: space-between; align-items: center; }
    .name { font-weight: bold; font-size: 1.1rem; color: #6b4226; }
    .desc { font-size: 0.85rem; color: #666; margin-top: 4px; }
    .price { font-weight: bold; color: #c44; }

    /* カードのステータス */
    .status-label {
      background: #e8d3c1; text-align: center;
      font-size: 14px; font-weight: bold;
      padding: 4px; color: #333;
    }

    /* モーダル */
    .modal {
      display: none; position: fixed; z-index: 1000;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.6); justify-content: center; align-items: center;
    }
    .modal-content {
      background: #fff; border-radius: 12px;
      max-width: 320px; width: 90%; padding: 20px;
      position: relative; text-align: center;
    }
    .close {
      position: absolute; top: 10px; right: 13px;
      font-size: 1.5rem; cursor: pointer; color: #999;
    }
    .close:hover { color: #333; }

    footer { padding: 12px 0; display: flex; justify-content: center; }
    .dev {
      font-size: 14px; padding: 8px 16px;
      border-radius: 8px; background: rgba(0,0,0,0.08);
      text-align: center; color: #c2a676;
    }

    /* 管理パネル */
    #adminPanel {
      display: none; position: fixed;
      top: 60px; right: 10px;
      background: #fff; padding: 15px;
      border: 1px solid #ccc; border-radius: 8px;
      z-index: 1000; width: 220px;
    }
    #adminPanel h4 { margin: 0 0 10px; }
    #adminPanel .close {
      position: absolute; top: 5px; right: 8px;
      font-size: 1.3rem; cursor: pointer; color: #999;
    }
    #adminPanel .close:hover { color: #333; }
  </style>
</head>
<body>
  <!-- メニューボタン -->
  <button id="menuBtn" style="position:fixed;top:10px;right:10px;font-size:26px;background:none;border:none;cursor:pointer;z-index:1100;">☰</button>

  <!-- ログイン画面 -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeLogin()">&times;</span>
      <h3>管理者ログイン</h3>
      <input type="text" id="loginInput" placeholder="ユーザー名"><br><br>
      <input type="password" id="passInput" placeholder="パスワード"><br><br>
      <button onclick="checkLogin()">ログイン</button>
    </div>
  </div>

  <!-- 管理者パネル -->
  <div id="adminPanel">
    <span class="close" onclick="closeAdminPanel()">&times;</span>
    <h4>商品のステータス</h4>
    <div id="selectedCard">カードを選択してください...</div><br>
    <label><input type="radio" name="status" value="在庫あり"> 在庫あり</label><br>
    <label><input type="radio" name="status" value="入荷待ち"> 入荷待ち</label><br>
    <label><input type="radio" name="status" value="販売終了"> 販売終了</label><br><br>
    <button onclick="saveStatus()">保存</button>
  </div>

  <h1>カフェメニュー</h1>
  <main>
    <!-- フィルター -->
    <div class="filters">
      <button data-season="all" class="active">共通メニュー</button>
      <button data-season="spring">煮込み料理</button>
      <button data-season="summer">サラダ</button>
      <button data-season="autumn">飲み物</button>
      <button data-season="winter">焼き菓子</button>
    </div>

    <div class="grid">
      <!-- カード1 -->
      <article class="card" data-id="1" data-season="spring">
        <div class="status-label" id="status-1">ステータス: 入荷待ち</div>
        <div class="photo-wrap" data-recipe-id="1" tabindex="0">
          <img src="https://i.ibb.co/v6SB8vc2/foto.jpg" alt="名前" loading="lazy">
        </div>
        <div class="meta">
          <div>
            <div class="name">料理名</div>
            <div class="desc">説明</div>
          </div>
          <div class="price">¥420</div>
        </div>
      </article>
      <!-- カード2 -->
      <article class="card" data-id="2" data-season="all">
        <div class="status-label" id="status-2">ステータス: 入荷待ち</div>
        <div class="photo-wrap" data-recipe-id="2" tabindex="0">
          <img src="https://esmmweighless.com/wp-content/uploads/2019/12/Carolyn-Cooking-Blog-scaled.jpg" alt="名前" loading="lazy">
        </div>
        <div class="meta">
          <div>
            <div class="name">料理名</div>
            <div class="desc">説明</div>
          </div>
          <div class="price">¥380</div>
        </div>
      </article>
    </div>
  <!-- Card 3 -->
      <article class="card" data-id="3" data-season="all">
        <div class="status-label" id="status-3">ステータス: 入荷待ち</div>
        <div class="photo-wrap" data-recipe-id="3" tabindex="0">
        <img src="https://i.ibb.co/LhzHZ90P/th-shutterstock-333766388-1-1.jpg" alt="名前" loading="lazy">
      </picture>
    </div>
    <div class="meta">
      <div>
        <div class="name">名前</div>
        <div class="desc">説明</div>
      </div>
      <div class="price">¥520</div>
    </div>
  </article>

  <!-- Card 4 -->
      <article class="card" data-id="4" data-season="all">
        <div class="status-label" id="status-4">ステータス: 入荷待ち</div>
        <div class="photo-wrap" data-recipe-id="4" tabindex="0">
         <img src="https://i.ibb.co/cc1b6vLL/da4b8ba8.jpg" alt="名前" loading="lazy">
      </picture>
    </div>
    <div class="meta">
      <div>
        <div class="name">名前</div>
        <div class="desc">説明</div>
      </div>
      <div class="price">¥300</div>
    </div>
  </article>

  <!-- Card 5 -->
      <article class="card" data-id="5" data-season="all">
        <div class="status-label" id="status-5">ステータス: 入荷待ち</div>
        <div class="photo-wrap" data-recipe-id="5" tabindex="0">
         <img src="https://i.ibb.co/cc1b6vLL/da4b8ba8.jpg" alt="名前" loading="lazy">
      </picture>
    </div>
    <div class="meta">
      <div>
        <div class="name">名前</div>
        <div class="desc">説明</div>
      </div>
      <div class="price">¥360</div>
    </div>
  </article>

  <!-- Card 6 -->
      <article class="card" data-id="6" data-season="all">
        <div class="status-label" id="status-6">ステータス: 入荷待ち</div>
        <div class="photo-wrap" data-recipe-id="6" tabindex="0">
         <img src="https://i.ibb.co/cc1b6vLL/da4b8ba8.jpg" alt="名前" loading="lazy">
      </picture>
    </div>
    <div class="meta">
      <div>
        <div class="name">名前</div>
        <div class="desc">説明</div>
      </div>
      <div class="price">¥440</div>
    </div>
  </article>
</div>
    <div class="grid">
    </div>
    <div id="recipeModal" class="modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true">
        <span class="close" aria-label="閉じる">&times;</span>
        <h2 id="recipeTitle"></h2>
        <div class="ingredients">
          <h3>材料</h3>
          <ul id="ingredientsList" role="list"></ul>
        </div>
        <div class="instructions">
          <h3>作り方</h3>
          <ol id="instructionsList" role="list"></ol>
        </div>
      </div>
    </div>
  </main>
  
    <!-- レシピモーダル -->
    <div id="recipeModal" class="modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true">
        <span class="close" aria-label="閉じる">&times;</span>
        <h2 id="recipeTitle"></h2>
        <div class="ingredients">
          <h3>材料</h3>
          <ul id="ingredientsList" role="list"></ul>
        </div>
        <div class="instructions">
          <h3>作り方</h3>
          <ol id="instructionsList" role="list"></ol>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="dev">ウェブサイト開発者：ミルザエフアラジン氏</div>
  </footer>

  <script>
    // === レシピ ===
    const recipes = {
      1: { title: "料理名", ingredients: ["材料1","材料2","材料3"], instructions: ["手順1","手順2","手順3"] },
      2: { title: "料理名", ingredients: ["材料1","材料2","材料3"], instructions: ["手順1","手順2","手順3"] },
      3: { title: "料理名", ingredients: ["材料1","材料2","材料3"], instructions: ["手順1","手順2","手順3"] },
    };

    const modal = document.getElementById("recipeModal");
    const recipeTitle = document.getElementById("recipeTitle");
    const ingredientsList = document.getElementById("ingredientsList");
    const instructionsList = document.getElementById("instructionsList");
    const closeBtn = modal.querySelector(".close");

    function openRecipe(id) {
      const recipe = recipes[id];
      if (!recipe) return;
      recipeTitle.textContent = recipe.title;
      ingredientsList.innerHTML = recipe.ingredients.map(i => `<li>${i}</li>`).join("");
      instructionsList.innerHTML = recipe.instructions.map(i => `<li>${i}</li>`).join("");
      modal.style.display = "flex";
    }
    function closeRecipe() { modal.style.display="none"; }
    document.querySelectorAll("[data-recipe-id]").forEach(el=>{
      el.addEventListener("click",()=>openRecipe(el.dataset.recipeId));
    });
    closeBtn.addEventListener("click",closeRecipe);
    modal.addEventListener("click",e=>{if(e.target===modal)closeRecipe()});
    document.addEventListener("keydown",e=>{if(e.key==="Escape")closeRecipe()});

    // === フィルター ===
    const buttons = document.querySelectorAll(".filters button");
    const cards = document.querySelectorAll(".card");
    buttons.forEach(btn=>{
      btn.addEventListener("click",()=>{
        buttons.forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        const season = btn.dataset.season;
        cards.forEach(card=>{
          card.style.display = (season==="all" || card.dataset.season===season) ? "flex" : "none";
        });
      });
    });

    // === 管理者ロジック ===
    const menuBtn = document.getElementById("menuBtn");
    const loginModal = document.getElementById("loginModal");
    const adminPanel = document.getElementById("adminPanel");
    const selectedCard = document.getElementById("selectedCard");
    let currentCardId = null;
    let isAdmin = false;

    menuBtn.onclick = () => {
      if (isAdmin) {
        adminPanel.style.display = "block";
      } else {
        loginModal.style.display = "flex";
      }
    };

    function closeLogin() { loginModal.style.display = "none"; }
    function closeAdminPanel() { adminPanel.style.display = "none"; }

    window.onclick = function(event) {
      if (event.target === loginModal) closeLogin();
    };

    function checkLogin() {
      const login = document.getElementById("loginInput").value;
      const pass = document.getElementById("passInput").value;
      if (login === "admin" && pass === "987654321") {
        loginModal.style.display = "none";
        adminPanel.style.display = "block";
        enableAdminMode();
        isAdmin = true;
      } else { alert("ユーザー名またはパスワードが違います！"); }
    }

    function enableAdminMode() {
      cards.forEach(card=>{
        card.addEventListener("click",()=>{
          currentCardId = card.dataset.id;
          selectedCard.textContent = "選択されたカード №" + currentCardId;
        });
      });
    }

    function saveStatus() {
      const status = document.querySelector('input[name="status"]:checked');
      if (status && currentCardId) {
        const key = "status-card-" + currentCardId;
        localStorage.setItem(key, status.value);
        const el = document.getElementById("status-" + currentCardId);
        if (el) el.textContent = "ステータス: " + status.value;
        alert("ステータスが保存されました！");
      } else { alert("カードとステータスを選択してください！"); }
    }

    // ページ読み込み時にステータス復元
    window.onload = () => {
      document.querySelectorAll(".card").forEach(card => {
        const id = card.dataset.id;
        const savedStatus = localStorage.getItem("status-card-" + id);
        if (savedStatus) {
          const el = document.getElementById("status-" + id);
          if (el) el.textContent = "ステータス: " + savedStatus;
        }
      });
    };
  </script>
</body>
</html>
